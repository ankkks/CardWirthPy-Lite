                 CardWirth Py Lite
                  Ver 1.2α3
                  フォーク制作者：暗黒騎士<ankkkcwあっとexcite.co.jp>
                  https://bitbucket.org/akkw/cardwirthpy-lite/
---------------------------------------------------------------------------
これは：CardWirthPy Reboot 1.1 2016/11/21版からのさらなるフォーク(派生版)です。
Py Rebootとの方向性の違いにより、不本意ながら分岐しました。Rebootの更新を選択的に取り込みます。
2017/1/15 まで　Wsn.2 KC分岐「手札」を除外(全て/アイテムでの手札検索はOK)して取り込み

●動作保証環境
Windows 7/10 64bit

●インストール/アンインストール
CardWirthPyLite.exeを起動して下さい。
アンインストールは、CWと同じくレジストリを使用しないのでフォルダごと削除でOKです。

・シナリオを沢山入れて重い場合
　　　　　設定＞シナリオ＞シナリオタイプ＞データベース構築を推奨。

・gdiplus.dllがない場合
　　　　　https://www7.atwiki.jp/nico_player/pages/16.html

・[スキンの自動生成ダイアログ]が出た場合
　　　　　スキンが入っていません。
　　　　「基本>本体」右のボタンからご使用のCardwirth1.20~1.50のエンジンexeを選択するかData\Skinに直接スキンを入れてください。


PyRebootとの互換
[宿/スキン]
1.0~最近のテスト版環境でシェアする分にはほぼ問題ないはず。
なにか問題が起こった場合は一度1.50に変換すれば大丈夫だと思います。(Py専用の諸々は初期化されますが)
[シナリオ]
PyRebootベースなのでCW1.20〜1.50仕様/WSN1/WSN2(※)に対応します。NEXTシナリオは貼り紙に表示されません。
具体的には1.50付属の旧WBかXEditor4.1で作ればOKです。
※KC所持分岐についてはWSN形式でも1.50と同等の挙動をする点だけご注意ください。
([アイテム]にチェックが付いている状態で戦闘手札が検索され、XEditor5で[手札]にチェックをつけても無視されます)

Liteの志向性
「CW再現性の向上」スキン以外の外観/挙動を、バグも含めCardWirth1.28/1.50に可能な限り近づける。
「ゆとり化(ライト化)」フォルダ・ファイル構成・オリジナル文言をシンプルにし、軽量化し、面倒なことなしですぐ遊べるようにする。

--------------------------------------------------------------------------
●更新情報
17.01.15 同日まで取り込み、α2ではPyGame更新の影響でエフェブの撮影が出来ないためα3に移行(Lite側の変更はなし)
17.01.10 対象が魔法無効化状態の時に魔法属性のカードが素通りしていた 
17.01.08 メイン画面へのシナリオインストールダイアログを取り込み、一部文言を移動に置換
17.01.05 Reboot側の1.1とややこしいのでVerを1.2に引き上げ
17.01.04 デザイン変更ダイアログ、レベル調節ダイアログ、ステータスバーを微調整
17.01.01 Windows環境ではステータスバーにテーマ色が反映される以前の実装に戻した
16.12.31 gdiplus.dllをパッケージから除外した(1M削減で±0)
16.12.29 Rebootに合わせて「＠WSN2」を追加、Classicスキンを同梱するようにした(1M増加)
16.12.28 オプションに「CardWirth1.28由来のF9仕様を使用する(デフォルトで無効)」を追加し、互換性読み込み処理をオミット
16.12.27 インストール/新規フォルダの作成ボタンは作らずショートカット形式で取り込み(貼り紙でCTRL+I or N)
16.12.26 保留していた画像の高解像度規格とシナリオインストールのD&Dに対応(上書き時の削除オプションはなし)
16.12.25 カード操作/戦闘行動ダイアログのレイアウトを整理してシンプルモードの表示をほぼ完全に合わせた
16.12.23 選択中カードの半透明処理のalpha値を高くした
16.12.23 シナリオの検索でエンターを押しただけで検索が実行されるようにし、一覧同時表示の時はレベル表記を非表示にした
16.12.22 シナリオ選択ダイアログのレイアウトを整理、ボーダーラインを消すのは押しっぱなしが有効なボタンだけに変更
16.12.21 キャラ情報ダイアログのレイアウトが巻き戻っていたのを修正
16.12.20 低解像度での2倍スケーリングを無効化(正常に表示されないだけではなく結構な頻度でクラッシュする)
16.12.19 Fontフォルダ参照先をReboot準拠に戻し、梅Hyゴシックに差し替えた。(12日から約820kbの削減)
16.12.15 フォントなどの設定の並び順・名称を変更・整理(メッセージを一番上)
16.12.14 荷物袋カードの使用・最後配置オプションをチェック式から選択式に変更
16.12.13 「白いカーソルを使用する」を設定ダイアログ上で廃止、スタイルを変更
16.12.12 IPAゴシックのバージョンを下げた(1Mの削減)、デバッガアイコンの整理
16.12.11 「拠点ごとにスキンを記憶する」「スター付きカード売却破棄を禁止」を設定ダイアログ上で廃止
16.12.10 設定ダイアログを整理してスクロールをしないようにした 
16.12.09 設定ダイアログのスクロールが重いため、foldpanelbarを元に戻した(Reboot 0.12.4α5から)
16.12.08 魔法無効化状態の敵にPCが魔法属性カードを選択するようにした(CW本来の仕様)
16.12.07 license.txtのPyに同梱されていない無関係なファイルに関する膨大な記述を削除(約13KB)
16.12.07 SYSフォントのパスを再変更(skinbase以下に置くと自動生成時にコピーされてしまう)
16.12.06 ステータスバーのグラデーションを廃止
16.12.05 スキンにない種族でも表示するようにした(スキン種族優先)
16.12.04 済み印の付いた貼り紙に突入できるバグを再現した
16.12.03 12-19日の取り込み忘れ&同日まで取り込み、TNRのIF条件にwin32を追加
16.12.02 カード操作DLGでエンバグしていたのを修正
16.12.01 IPAフォントを等幅ゴシックに絞った(10Mの削減)
16.11.30 効果系カード名のフォントサイズが1大きくなっているのを修正
16.11.28 IPAフォントの明朝体を削除(12Mの削減)/KC所持分岐を1.50仕様に
--------------------------------------------------------------------------
●Py Rebootと異なるところ
CW準拠(外観)
・移動系ボタンのボーダーラインとスタイルを消し、パネルサイズをCWに合わせフラットな形状に
・デバッガアイコンなどをASK製に差し替えデフォルトで同梱
・フォントの初期設定をCWに準拠(win98にしか同梱されていないものは保留)
・「荷物袋」「カード置き場」及び手札のオブジェクト描画位置をほぼ完全に合わせた
・「貼紙を見る」のページ数を貼り紙の下に移動
・「パーティ情報」・レベル調節・デバッグモードの所持金スライダボタンを四角に変更
・「パーティ情報」のスピンの背景を変更、テキストをアイコンのツールチップに移動
・スライダのメモリ表示スタイルをオフにし、代わりにCWに近い緑の現在値/最大値ビューを付けた

CW準拠(仕様)
・F9でゴシップ・済み印が戻らないCardWirth1.28-1.50仕様の互換オプションを追加(デフォルトで無効)
・CTRL+方向で貼り紙を移動すると条件を満たしていないシナリオに突入できるバグの再現
・魔法無効化状態の敵にPCが魔法属性(物理的魔法属性)カードを選択する

仕様変更
・初期設定のデフォルト値と設定ファイル名を変更
・種族が有効なスキンであればスキンにない種族でも表示するようにした(スキン種族優先)
・選択中カードの半透明濃度を下げた
・シナリオ選択ダイアログの絞り込み入力欄でENTERキーを押すだけでも検索できるようにした
・シナリオ選択ダイアログをメイン画面より小さくなるよう調整し、一覧表示にしている場合はツリー側のレベル表示([1〜3]など)を非表示にするようにした
・Rebootでデバッガメニューバーのエリア移動/戦闘中断が表示されていないのは恐らくバグだが、再setが効かないので固定にした
・シナリオ選択ダイアログのシナリオインストール(CTRL+I)/新規フォルダ(CTRL+N)機能をショートカット化しボタンは省略
・荷物袋/カード置き場の整列(ソート)は常時表示されるようにした 

軽量・簡素化
・付属フォントを等幅ゴシックに絞りIPAから梅フォントに差し替え
・詳細オプション「拠点ごとにスキンを記憶しない」「スター付きカードの売却破棄を禁止しない」を廃止(デフォで記憶する、禁止する)
・描画オプション「白いカーソルを使用する」を廃止(デフォルトで白カーソル)
・詳細オプション「シナリオのインストールに成功したら元ファイルを削除する」を未実装(デフォルトで移動)
・フォント項目「スピン」「スライダー」「リスト」を削除、「ツリー」を「ツリー・リスト」に改称、見出しをタイトルに改称
・フォント項目「対象レベル」を「貼り紙の対象レベル」に改称 
・スキン文言"show_skillcards""show_itemcards""show_beastcards”を削除し、キャラ情報の文言+"を表示"に変更
・スキン文言"sort_title2""narrow_condition2"を廃止し、1に統合
・デバッガアイコン"COUPON_MINUS""COUPON_PLUS""COUPON_ZERO"を削除し、スキンのアイコンを読むように
・デバッガアイコン"SELECTION""STEP""FLAG""YADO"を削除し、"EVT_BRANCH_SELECT""EVT_BRANCH_STEPVALUE""EVT_SET_FLAG""EVT_GET_GOSSIP"を読むように
・デバッガアイコン"INIT_VARIABLES"を削除し、"RESET"を読むように
・スキンベースアイコン"CREATE_DIRECTORY"”INSTALL_SCENARIO”を削除(ボタンを付けないため)

●対応できていない不具合(Rebootと同様)
・設定ダイアログでフォントを変更後エンジンを終了させると、高頻度でAssertionErrorが出る(表示が出ること以外は無害です)
・WindowsSearch関連プロセスが動いているとダイアログの開閉に最大10秒近い遅延が起こる(Windowsを再起動で改善)
・サウンドフォントがチェックされていない場合に様々な不具合が起こる(デフォルトでチェックは付いているはずなので通常気にする必要はないはず)
バグ報告はどの窓口においても歓迎しますが、Lite側の解決能力は低いので、Rebootで発現するバグはRebootに持ち込んで頂いた方がスムーズだと思います。
--------------------------------------------------------------------------
●ライセンス
著作権情報はlicense.txtを参照下さい。各ライセンスを満たす限り、再配布、再フォーク等は自由です。